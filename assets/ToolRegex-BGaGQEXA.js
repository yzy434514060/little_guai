import{r as y,c as v,a as o,o as r,e as t,p as c,q as g,v as k,s as b,t as _,B as f,x as d,F as h,C as w}from"./index-B2ANIycU.js";import{u as V}from"./useLocalStorage-8dXqsKXf.js";const C={class:"tool-container"},L={class:"tool-card"},R={class:"space-y-4"},B={class:"flex items-center gap-2"},E={class:"flex gap-2"},M={class:"flex items-center gap-1 cursor-pointer"},S={class:"flex items-center gap-1 cursor-pointer"},z={class:"flex items-center gap-1 cursor-pointer"},A={key:0,class:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg text-red-700 dark:text-red-400"},P={class:"flex flex-wrap gap-2"},Z=["onClick"],D={key:1},F={class:"flex items-center justify-between mb-2"},H={class:"text-sm text-gray-500 dark:text-gray-400"},I=["innerHTML"],N={key:0,class:"mt-4 space-y-2"},$={class:"flex items-center justify-between mb-1"},q={class:"text-sm font-semibold"},O={class:"text-xs text-gray-500 dark:text-gray-400"},G={class:"font-mono text-sm"},J={key:0,class:"mt-2 text-xs text-gray-600 dark:text-gray-400"},X={__name:"ToolRegex",setup(K){const m=V("tool-regex-pattern","\\d+"),n=y({g:!0,i:!1,m:!1}),a=V("tool-regex-test","Test 123 string 456"),x=y(""),u=v(()=>{try{const l=Object.entries(n.value).filter(([e,s])=>s).map(([e])=>e).join("");return x.value="",new RegExp(m.value,l)}catch(l){return x.value=l.message,null}}),p=v(()=>{if(!u.value||!a.value)return[];const l=[];let e;if(n.value.g){const s=new RegExp(u.value.source,u.value.flags);for(;(e=s.exec(a.value))!==null;)l.push({match:e[0],index:e.index,groups:e.slice(1)})}else e=u.value.exec(a.value),e&&l.push({match:e[0],index:e.index,groups:e.slice(1)});return l}),T=v(()=>{if(!u.value||!a.value||p.value.length===0)return a.value;let l="",e=0;return p.value.forEach(({match:s,index:i})=>{l+=a.value.slice(e,i),l+=`<mark class="bg-yellow-200 dark:bg-yellow-700">${s}</mark>`,e=i+s.length}),l+=a.value.slice(e),l}),U=[{name:"邮箱",pattern:"[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}"},{name:"URL",pattern:"https?://[^\\s]+"},{name:"手机号",pattern:"1[3-9]\\d{9}"},{name:"IP地址",pattern:"\\b(?:\\d{1,3}\\.){3}\\d{1,3}\\b"},{name:"日期",pattern:"\\d{4}-\\d{2}-\\d{2}"},{name:"数字",pattern:"\\d+"}],j=l=>{m.value=l};return(l,e)=>(r(),o("div",C,[t("div",L,[e[15]||(e[15]=t("h2",{class:"text-2xl font-bold mb-2"},"正则表达式测试",-1)),e[16]||(e[16]=t("p",{class:"text-gray-600 dark:text-gray-400 mb-6"},"测试和调试正则表达式",-1)),t("div",R,[t("div",null,[e[10]||(e[10]=t("label",{class:"block text-sm font-medium mb-2"},"正则表达式",-1)),t("div",B,[e[8]||(e[8]=t("span",{class:"text-gray-500"},"/",-1)),g(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>_(m)?m.value=s:null),type:"text",placeholder:"输入正则表达式...",class:"tool-input flex-1 font-mono"},null,512),[[k,b(m)]]),e[9]||(e[9]=t("span",{class:"text-gray-500"},"/",-1)),t("div",E,[t("label",M,[g(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>n.value.g=s),type:"checkbox",class:"w-4 h-4"},null,512),[[f,n.value.g]]),e[5]||(e[5]=t("span",{class:"text-sm"},"g",-1))]),t("label",S,[g(t("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>n.value.i=s),type:"checkbox",class:"w-4 h-4"},null,512),[[f,n.value.i]]),e[6]||(e[6]=t("span",{class:"text-sm"},"i",-1))]),t("label",z,[g(t("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>n.value.m=s),type:"checkbox",class:"w-4 h-4"},null,512),[[f,n.value.m]]),e[7]||(e[7]=t("span",{class:"text-sm"},"m",-1))])])]),e[11]||(e[11]=t("div",{class:"text-xs text-gray-500 dark:text-gray-400 mt-1"}," g: 全局匹配 | i: 忽略大小写 | m: 多行模式 ",-1))]),x.value?(r(),o("div",A,d(x.value),1)):c("",!0),t("div",null,[e[12]||(e[12]=t("label",{class:"block text-sm font-medium mb-2"},"常用正则",-1)),t("div",P,[(r(),o(h,null,w(U,s=>t("button",{key:s.name,onClick:i=>j(s.pattern),class:"px-3 py-1 text-sm bg-gray-100 dark:bg-slate-700 hover:bg-gray-200 dark:hover:bg-slate-600 rounded-lg transition-colors"},d(s.name),9,Z)),64))])]),t("div",null,[e[13]||(e[13]=t("label",{class:"block text-sm font-medium mb-2"},"测试字符串",-1)),g(t("textarea",{"onUpdate:modelValue":e[4]||(e[4]=s=>_(a)?a.value=s:null),placeholder:"输入要测试的字符串...",rows:"6",class:"tool-textarea"},null,512),[[k,b(a)]])]),u.value&&b(a)?(r(),o("div",D,[t("div",F,[e[14]||(e[14]=t("label",{class:"block text-sm font-medium"},"匹配结果",-1)),t("span",H," 找到 "+d(p.value.length)+" 个匹配 ",1)]),t("div",{class:"p-4 bg-gray-50 dark:bg-slate-900 rounded-lg font-mono text-sm whitespace-pre-wrap break-all",innerHTML:T.value},null,8,I),p.value.length>0?(r(),o("div",N,[(r(!0),o(h,null,w(p.value,(s,i)=>(r(),o("div",{key:i,class:"p-3 bg-gray-50 dark:bg-slate-900 rounded-lg"},[t("div",$,[t("span",q,"匹配 "+d(i+1),1),t("span",O,"位置: "+d(s.index),1)]),t("div",G,d(s.match),1),s.groups.length>0?(r(),o("div",J," 分组: "+d(s.groups.join(", ")),1)):c("",!0)]))),128))])):c("",!0)])):c("",!0)])])]))}};export{X as default};

import{r as n,z as J,A as O,a as g,o as y,e,n as R,v,B as w,t as C,x,q as L,p as V,b as $,y as E}from"./index-D5XFI3dW.js";import{u as h}from"./useLocalStorage-Bqx8QpQ5.js";import{_ as B}from"./CopyButton-BEQ9CjRv.js";import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";const M={class:"tool-container"},U={class:"tool-card"},Y={class:"flex flex-wrap gap-3 mb-4"},H={class:"flex items-center gap-2 ml-auto"},T={key:0,class:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg text-red-700 dark:text-red-400"},j={class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},q={class:"mt-2 flex justify-end"},A={__name:"ToolJson",setup(G){const r=h("tool-json-input",""),o=n(""),l=n(""),d=n(2),i=n(null),c=n(null),u=n(!1),m=n(0),p=n(0),k=s=>{u.value=!0,m.value=s.clientY,p.value=i.value.offsetHeight,document.body.style.cursor="ns-resize",document.body.style.userSelect="none",s.preventDefault()},f=s=>{if(!u.value)return;const t=s.clientY-m.value,a=p.value+t;a>=200&&(i.value.style.height=`${a}px`,c.value.style.height=`${a}px`)},b=()=>{u.value&&(u.value=!1,document.body.style.cursor="",document.body.style.userSelect="")};J(()=>{document.addEventListener("mousemove",f),document.addEventListener("mouseup",b)}),O(()=>{document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",b)});const S=()=>{try{const s=JSON.parse(r.value);o.value=JSON.stringify(s,null,d.value),l.value=""}catch(s){l.value=`格式化失败: ${s.message}`,o.value=""}},N=()=>{try{const s=JSON.parse(r.value);o.value=JSON.stringify(s),l.value=""}catch(s){l.value=`压缩失败: ${s.message}`,o.value=""}},_=()=>{try{JSON.parse(r.value),l.value="",o.value="✓ JSON 格式正确"}catch(s){l.value=`校验失败: ${s.message}`,o.value=""}},z=()=>{r.value="",o.value="",l.value=""};return(s,t)=>(y(),g("div",M,[e("div",U,[t[8]||(t[8]=e("h2",{class:"text-2xl font-bold mb-2"},"JSON 格式化",-1)),t[9]||(t[9]=e("p",{class:"text-gray-600 dark:text-gray-400 mb-6"},"格式化、压缩、校验 JSON 数据",-1)),e("div",Y,[e("button",{onClick:S,class:"btn-primary"},"格式化"),e("button",{onClick:N,class:"btn-secondary"},"压缩"),e("button",{onClick:_,class:"btn-secondary"},"校验"),e("button",{onClick:z,class:"btn-secondary"},"清空"),e("div",H,[t[4]||(t[4]=e("label",{class:"text-sm"},"缩进:",-1)),v(e("select",{"onUpdate:modelValue":t[0]||(t[0]=a=>d.value=a),class:"px-3 py-2 bg-gray-100 dark:bg-slate-700 rounded-lg border border-gray-300 dark:border-slate-600"},[...t[3]||(t[3]=[e("option",{value:2},"2 空格",-1),e("option",{value:4},"4 空格",-1),e("option",{value:8},"8 空格",-1)])],512),[[w,d.value,void 0,{number:!0}]])])]),l.value?(y(),g("div",T,C(l.value),1)):R("",!0),e("div",j,[e("div",null,[t[5]||(t[5]=e("label",{class:"block text-sm font-medium mb-2"},"输入 JSON",-1)),v(e("textarea",{ref_key:"inputRef",ref:i,"onUpdate:modelValue":t[1]||(t[1]=a=>V(r)?r.value=a:null),placeholder:'{"name": "Little Guai", "type": "tools"}',rows:"20",class:"tool-textarea resize-none"},null,512),[[x,L(r)]])]),e("div",null,[t[6]||(t[6]=e("label",{class:"block text-sm font-medium mb-2"},"输出结果",-1)),v(e("textarea",{ref_key:"outputRef",ref:c,"onUpdate:modelValue":t[2]||(t[2]=a=>o.value=a),readonly:"",rows:"20",placeholder:"输出结果将显示在这里...",class:"tool-textarea resize-none"},null,512),[[x,o.value]]),e("div",q,[$(B,{text:o.value},null,8,["text"])])])]),e("div",{onMousedown:k,class:E(["resize-handle",{dragging:u.value}])},[...t[7]||(t[7]=[e("div",{class:"resize-handle-line"},null,-1)])],34)])]))}},Q=D(A,[["__scopeId","data-v-fa70ef50"]]);export{Q as default};

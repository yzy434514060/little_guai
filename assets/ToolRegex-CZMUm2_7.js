import{r as y,c as v,a as n,o as r,e as t,n as x,v as c,x as U,q as b,p as k,C as f,t as d,F as _,D as h,b as j}from"./index-D5XFI3dW.js";import{u as w}from"./useLocalStorage-Bqx8QpQ5.js";import{R as C}from"./ResizableTextarea-2i-cw4fR.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const L={class:"tool-container"},z={class:"tool-card"},E={class:"space-y-4"},M={class:"flex items-center gap-2"},S={class:"flex gap-2"},A={class:"flex items-center gap-1 cursor-pointer"},B={class:"flex items-center gap-1 cursor-pointer"},D={class:"flex items-center gap-1 cursor-pointer"},N={key:0,class:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg text-red-700 dark:text-red-400"},P={class:"flex flex-wrap gap-2"},Z=["onClick"],F={key:1},H={class:"flex items-center justify-between mb-2"},I={class:"text-sm text-gray-500 dark:text-gray-400"},$=["innerHTML"],q={key:0,class:"mt-4 space-y-2"},O={class:"flex items-center justify-between mb-1"},G={class:"text-sm font-semibold"},J={class:"text-xs text-gray-500 dark:text-gray-400"},K={class:"font-mono text-sm"},Q={key:0,class:"mt-2 text-xs text-gray-600 dark:text-gray-400"},se={__name:"ToolRegex",setup(W){const m=w("tool-regex-pattern","\\d+"),o=y({g:!0,i:!1,m:!1}),a=w("tool-regex-test","Test 123 string 456"),g=y(""),u=v(()=>{try{const l=Object.entries(o.value).filter(([e,s])=>s).map(([e])=>e).join("");return g.value="",new RegExp(m.value,l)}catch(l){return g.value=l.message,null}}),p=v(()=>{if(!u.value||!a.value)return[];const l=[];let e;if(o.value.g){const s=new RegExp(u.value.source,u.value.flags);for(;(e=s.exec(a.value))!==null;)l.push({match:e[0],index:e.index,groups:e.slice(1)})}else e=u.value.exec(a.value),e&&l.push({match:e[0],index:e.index,groups:e.slice(1)});return l}),V=v(()=>{if(!u.value||!a.value||p.value.length===0)return a.value;let l="",e=0;return p.value.forEach(({match:s,index:i})=>{l+=a.value.slice(e,i),l+=`<mark class="bg-yellow-200 dark:bg-yellow-700">${s}</mark>`,e=i+s.length}),l+=a.value.slice(e),l}),R=[{name:"邮箱",pattern:"[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}"},{name:"URL",pattern:"https?://[^\\s]+"},{name:"手机号",pattern:"1[3-9]\\d{9}"},{name:"IP地址",pattern:"\\b(?:\\d{1,3}\\.){3}\\d{1,3}\\b"},{name:"日期",pattern:"\\d{4}-\\d{2}-\\d{2}"},{name:"数字",pattern:"\\d+"}],T=l=>{m.value=l};return(l,e)=>(r(),n("div",L,[t("div",z,[e[15]||(e[15]=t("h2",{class:"text-2xl font-bold mb-2"},"正则表达式测试",-1)),e[16]||(e[16]=t("p",{class:"text-gray-600 dark:text-gray-400 mb-6"},"测试和调试正则表达式",-1)),t("div",E,[t("div",null,[e[10]||(e[10]=t("label",{class:"block text-sm font-medium mb-2"},"正则表达式",-1)),t("div",M,[e[8]||(e[8]=t("span",{class:"text-gray-500"},"/",-1)),c(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>k(m)?m.value=s:null),type:"text",placeholder:"输入正则表达式...",class:"tool-input flex-1 font-mono"},null,512),[[U,b(m)]]),e[9]||(e[9]=t("span",{class:"text-gray-500"},"/",-1)),t("div",S,[t("label",A,[c(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>o.value.g=s),type:"checkbox",class:"w-4 h-4"},null,512),[[f,o.value.g]]),e[5]||(e[5]=t("span",{class:"text-sm"},"g",-1))]),t("label",B,[c(t("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>o.value.i=s),type:"checkbox",class:"w-4 h-4"},null,512),[[f,o.value.i]]),e[6]||(e[6]=t("span",{class:"text-sm"},"i",-1))]),t("label",D,[c(t("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>o.value.m=s),type:"checkbox",class:"w-4 h-4"},null,512),[[f,o.value.m]]),e[7]||(e[7]=t("span",{class:"text-sm"},"m",-1))])])]),e[11]||(e[11]=t("div",{class:"text-xs text-gray-500 dark:text-gray-400 mt-1"}," g: 全局匹配 | i: 忽略大小写 | m: 多行模式 ",-1))]),g.value?(r(),n("div",N,d(g.value),1)):x("",!0),t("div",null,[e[12]||(e[12]=t("label",{class:"block text-sm font-medium mb-2"},"常用正则",-1)),t("div",P,[(r(),n(_,null,h(R,s=>t("button",{key:s.name,onClick:i=>T(s.pattern),class:"px-3 py-1 text-sm bg-gray-100 dark:bg-slate-700 hover:bg-gray-200 dark:hover:bg-slate-600 rounded-lg transition-colors"},d(s.name),9,Z)),64))])]),t("div",null,[e[13]||(e[13]=t("label",{class:"block text-sm font-medium mb-2"},"测试字符串",-1)),j(C,{modelValue:b(a),"onUpdate:modelValue":e[4]||(e[4]=s=>k(a)?a.value=s:null),placeholder:"输入要测试的字符串...",rows:10},null,8,["modelValue"])]),u.value&&b(a)?(r(),n("div",F,[t("div",H,[e[14]||(e[14]=t("label",{class:"block text-sm font-medium"},"匹配结果",-1)),t("span",I," 找到 "+d(p.value.length)+" 个匹配 ",1)]),t("div",{class:"p-4 bg-gray-50 dark:bg-slate-900 rounded-lg font-mono text-sm whitespace-pre-wrap break-all",innerHTML:V.value},null,8,$),p.value.length>0?(r(),n("div",q,[(r(!0),n(_,null,h(p.value,(s,i)=>(r(),n("div",{key:i,class:"p-3 bg-gray-50 dark:bg-slate-900 rounded-lg"},[t("div",O,[t("span",G,"匹配 "+d(i+1),1),t("span",J,"位置: "+d(s.index),1)]),t("div",K,d(s.match),1),s.groups.length>0?(r(),n("div",Q," 分组: "+d(s.groups.join(", ")),1)):x("",!0)]))),128))])):x("",!0)])):x("",!0)])])]))}};export{se as default};
